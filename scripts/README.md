# Скрипты инициализации

## init-test-users.js

Скрипт для инициализации тестовых пользователей в приложении chatpapp.

### Описание

Скрипт создает 10 тестовых пользователей с:
- Именами в формате "Фамилия Имя"
- Уникальными телефонами (79100000000 - 79100000009)
- Индивидуальными аватарами (SVG с инициалами)
- Пользователями в локальной БД (MongoDB)
- Пользователями в Chat3 API
- Аватарами в Chat3 API (мета-теги)

Для пользователя **Иванов Иван** создаются диалоги со всеми остальными пользователями.

### Использование

```bash
# Из директории backend (где установлены зависимости)
cd backend
node scripts/init-test-users.mjs
```

Или для очистки базы данных:

```bash
cd backend
node scripts/clear-database.mjs
```

## add-bulk-users.mjs

Скрипт добавляет указанное количество (по умолчанию 300) дополнительных тестовых пользователей и создает P2P-диалоги с Ивановым Иваном.

### Использование

```bash
cd backend
node scripts/add-bulk-users.mjs          # создаст 300 пользователей
node scripts/add-bulk-users.mjs 150      # создаст 150 пользователей
```

### Результат

- Пользователи создаются в локальной БД и в Chat3 API
- Для каждого загружается уникальный SVG-аватар
- Для каждого пользователя создается P2P-диалог с Ивановым Иваном с установкой персональных мета-тегов (`p2pDialogNameFor<userId>`, `p2pDialogAvatarFor<userId>`)

### Требования

- MongoDB должна быть запущена и доступна
- Chat3 API должен быть запущен и доступен
- Переменные окружения должны быть настроены (или используются значения по умолчанию)

### Создаваемые пользователи

1. Иванов Иван
2. Петров Петр
3. Сидоров Сергей
4. Смирнов Алексей
5. Кузнецов Дмитрий
6. Попов Андрей
7. Соколов Михаил
8. Лебедев Николай
9. Новиков Владимир
10. Морозов Александр

### Результат

- 10 пользователей в локальной БД
- 10 пользователей в Chat3 API
- 10 аватаров в Chat3 API
- 9 диалогов для Иванова Ивана (со всеми остальными пользователями)

