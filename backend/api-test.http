### Chat Application API Tests
### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ REST Client —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è VS Code
### –∏–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ curl –∫–æ–º–∞–Ω–¥—ã

@baseUrl = http://localhost:3001
@phone = 79123456789
@name = Test User

### ============================================
### 1. Health Check
### ============================================

GET {{baseUrl}}/health

### ============================================
### 2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è - –ó–∞–ø—Ä–æ—Å –∫–æ–¥–∞
### ============================================

# @name requestCode
POST {{baseUrl}}/api/auth/request-code
Content-Type: application/json

{
  "phone": "{{phone}}",
  "name": "{{name}}"
}

### –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–¥–∞
### –ü—Ä–∏–º–µ—Ä: üîê Verification code: 1234

### ============================================
### 3. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
### ============================================

# @name verifyCode
POST {{baseUrl}}/api/auth/verify-code
Content-Type: application/json

{
  "phone": "{{phone}}",
  "code": "1234"
}

### –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π token –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
### –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_JWT_TOKEN –Ω–∏–∂–µ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π token

@token = YOUR_JWT_TOKEN

### ============================================
### 4. –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
### ============================================

GET {{baseUrl}}/api/auth/me
Authorization: Bearer {{token}}

### ============================================
### 5. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–∏–∞–ª–æ–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
### ============================================

GET {{baseUrl}}/api/dialogs?page=1&limit=10&includeLastMessage=true
Authorization: Bearer {{token}}

### ============================================
### 6. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥
### ============================================

# @name createDialog
POST {{baseUrl}}/api/dialogs
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Test Dialog",
  "memberIds": []
}

### –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ dialogId –∏–∑ –æ—Ç–≤–µ—Ç–∞
@dialogId = YOUR_DIALOG_ID

### ============================================
### 7. –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–∏–∞–ª–æ–≥
### ============================================

GET {{baseUrl}}/api/dialogs/{{dialogId}}
Authorization: Bearer {{token}}

### ============================================
### 8. –ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞
### ============================================

GET {{baseUrl}}/api/messages/dialog/{{dialogId}}?page=1&limit=50
Authorization: Bearer {{token}}

### ============================================
### 9. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –¥–∏–∞–ª–æ–≥
### ============================================

# @name sendMessage
POST {{baseUrl}}/api/messages/dialog/{{dialogId}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "content": "Hello! This is a test message.",
  "type": "text",
  "meta": {
    "priority": "normal"
  }
}

### –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ messageId –∏–∑ –æ—Ç–≤–µ—Ç–∞
@messageId = YOUR_MESSAGE_ID

### ============================================
### 10. –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
### ============================================

GET {{baseUrl}}/api/messages/{{messageId}}
Authorization: Bearer {{token}}

### ============================================
### 11. –û—Ç–º–µ—Ç–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ
### ============================================

POST {{baseUrl}}/api/messages/{{messageId}}/status/read
Authorization: Bearer {{token}}

### ============================================
### 12. –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
### ============================================

GET {{baseUrl}}/api/messages/{{messageId}}/reactions
Authorization: Bearer {{token}}

### ============================================
### 13. –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
### ============================================

POST {{baseUrl}}/api/messages/{{messageId}}/reactions
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "reaction": "üëç"
}

### ============================================
### 14. –î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ –≤ –¥–∏–∞–ª–æ–≥
### ============================================

POST {{baseUrl}}/api/dialogs/{{dialogId}}/members
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "userId": "another-user-id"
}

### ============================================
### 15. –£–¥–∞–ª–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ –∏–∑ –¥–∏–∞–ª–æ–≥–∞
### ============================================

DELETE {{baseUrl}}/api/dialogs/{{dialogId}}/members/another-user-id
Authorization: Bearer {{token}}

### ============================================
### 16. –£–¥–∞–ª–∏—Ç—å –¥–∏–∞–ª–æ–≥
### ============================================

DELETE {{baseUrl}}/api/dialogs/{{dialogId}}
Authorization: Bearer {{token}}

